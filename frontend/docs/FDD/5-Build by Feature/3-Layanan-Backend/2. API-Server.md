# Pembangunan Fitur: API (Server)

Dokumen ini berisi detail pembangunan dan pengujian untuk Feature Set `API (Server)`.

---

## 1. Work Package

- **Fitur yang Dikerjakan:**
  - Mendefinisikan endpoint API untuk operasi unggah dan pembuatan file .sav
  - Menangani permintaan HTTP untuk operasi file .sav
- **Tim Fitur (Class Owners):**
  - `[Nama Tim/Developer]`
- **Jadwal (Aktual):**
  - **Development:** `[Tanggal]`
  - **Unit Testing:** `[Tanggal]`
  - **Code Inspection:** `[Tanggal]`
  - **Promote to Build:** `[Tanggal]`

---

## 2. Implementasi

Bagian ini merangkum implementasi kode untuk fitur ini. Kode sumber utama dapat ditemukan pada file-file berikut:

- `backend/server/routes/savRoutes.ts`
- `backend/server/controllers/savController.ts`

---

## 3. Pengujian Unit (Unit Testing)

Pengujian unit dilakukan untuk memverifikasi bahwa controller menangani permintaan/respons HTTP dengan benar dan mendelegasikan tugas ke service.

### 3.1. Strategi Pengujian

- **Framework:** `Jest`, `supertest`
- **Fokus Pengujian:**
  - **Pengujian Endpoint:** Menggunakan `supertest` untuk membuat permintaan HTTP palsu ke endpoint API (`/api/sav/upload`, `/api/sav/create`) dan memverifikasi kode status respons dan body.
  - **Mocking Dependencies:** `savService` di-mock untuk mengisolasi controller dan mencegah pemanggilan logika pemrosesan file yang sebenarnya.
  - **Verifikasi Interaksi:** Memastikan bahwa controller memanggil metode service yang benar (`parseSavFile`, `createSavFile`) dengan data yang diharapkan dari permintaan.

### 3.2. Skenario & Hasil Pengujian

| Komponen/Hook/Service | Skenario Pengujian | Hasil yang Diharapkan | Status |
| :-------------------- | :----------------- | :-------------------- | :----- |
| `savController` | `POST /api/sav/upload` dengan file mock | `savService.parseSavFile` dipanggil, respons `200 OK` | `Lulus` |
| `savController` | `POST /api/sav/upload` tanpa file | Respons `400 Bad Request` | `Lulus` |
| `savController` | `POST /api/sav/create` dengan JSON mock | `savService.createSavFile` dipanggil, respons `200 OK` | `Lulus` |
| `savController` | `savService.parseSavFile` melempar error | Respons `500 Internal Server Error` | `Lulus` |

*Catatan: Pengujian ini memvalidasi lapisan API dari aplikasi backend, memastikan penanganan permintaan dan respons yang tepat.*

---

## 4. Laporan Inspeksi Kode (Code Inspection Report)

- **Hasil:** `[Diterima / Diterima dengan Revisi / Ditolak]`
- **Cacat yang Ditemukan (jika ada):**
  - `[Belum ada / Deskripsi Cacat]`
- **Daftar Tugas (To-Do List):**
  - `[Belum ada / Tindakan perbaikan]`

---

## 5. Status Promosi ke Build

- **Status:** `[Ready to Promote / Promoted]`
- **Tanggal:** `[Tanggal]` 