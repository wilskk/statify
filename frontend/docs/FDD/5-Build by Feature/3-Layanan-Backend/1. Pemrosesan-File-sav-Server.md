# Pembangunan Fitur: Pemrosesan File .sav (Server)

Dokumen ini berisi detail pembangunan dan pengujian untuk Feature Set `Pemrosesan File .sav (Server)`.

---

## 1. Work Package

- **Fitur yang Dikerjakan:**
  - Memproses file .sav yang diunggah untuk mengekstrak data dan metadata.
  - Membuat file .sav baru dari data dan variabel yang dikirim oleh klien.
- **Tim Fitur (Class Owners):**
  - `[Nama Tim/Developer]`
- **Jadwal (Aktual):**
  - **Development:** `[Tanggal]`
  - **Unit Testing:** `[Tanggal]`
  - **Code Inspection:** `[Tanggal]`
  - **Promote to Build:** `[Tanggal]`

---

## 2. Implementasi

Bagian ini merangkum implementasi kode untuk fitur ini. Kode sumber utama dapat ditemukan pada file berikut:

- `backend/server/services/savService.ts`

---

## 3. Pengujian Unit (Unit Testing)

Pengujian unit dilakukan untuk memverifikasi bahwa service dapat berinteraksi dengan library pemrosesan file `.sav` dengan benar.

### 3.1. Strategi Pengujian

- **Framework:** `Jest`
- **Fokus Pengujian:**
  - **Mocking Dependencies:** Library eksternal (`spss-file`) di-mock untuk mengisolasi logika service.
  - **Verifikasi Interaksi:** Memastikan `parseSavFile` memanggil metode `readSav` dari library yang di-mock, dan `createSavFile` memanggil metode `writeSav`.
  - **Pengujian Integrasi (Opsional):** Pengujian terpisah dapat dilakukan dengan file `.sav` sampel yang sebenarnya untuk memvalidasi fungsionalitas end-to-end dengan library.

### 3.2. Skenario & Hasil Pengujian

| Komponen/Hook/Service | Skenario Pengujian | Hasil yang Diharapkan | Status |
| :-------------------- | :----------------- | :-------------------- | :----- |
| `savService` | Panggil `parseSavFile` dengan buffer | Fungsi `readSav` dari library `spss-file` dipanggil sekali | `Lulus` |
| `savService` | `readSav` mengembalikan data mock | `parseSavFile` mengembalikan data mock yang sama | `Lulus` |
| `savService` | Panggil `createSavFile` dengan JSON | Fungsi `writeSav` dari library `spss-file` dipanggil sekali | `Lulus` |

*Catatan: Pengujian unit berfokus pada validasi bahwa `savService` mendelegasikan tugas dengan benar ke library eksternal.*

---

## 4. Laporan Inspeksi Kode (Code Inspection Report)

- **Hasil:** `[Diterima / Diterima dengan Revisi / Ditolak]`
- **Cacat yang Ditemukan (jika ada):**
  - `[Belum ada / Deskripsi Cacat]`
- **Daftar Tugas (To-Do List):**
  - `[Belum ada / Tindakan perbaikan]`

---

## 5. Status Promosi ke Build

- **Status:** `[Ready to Promote / Promoted]`
- **Tanggal:** `[Tanggal]`
