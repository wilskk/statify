# Pembangunan Fitur: Layanan API (Klien)

Dokumen ini berisi detail pembangunan dan pengujian untuk Feature Set `Layanan API (Klien)`.

---

## 1. Work Package

- **Fitur yang Dikerjakan:**
  - Menyediakan layanan klien untuk berinteraksi dengan API backend .sav.
  - Menyediakan konfigurasi untuk layanan API (URL, header, dll).
- **Tim Fitur (Class Owners):**
  - `[Nama Tim/Developer]`
- **Jadwal (Aktual):**
  - **Development:** `[Tanggal]`
  - **Unit Testing:** `[Tanggal]`
  - **Code Inspection:** `[Tanggal]`
  - **Promote to Build:** `[Tanggal]`

---

## 2. Implementasi

Bagian ini merangkum implementasi kode untuk fitur ini. Kode sumber utama dapat ditemukan pada file-file berikut:

- `services/api/config.ts`
- `services/api/savService.ts`

---

## 3. Pengujian Unit (Unit Testing)

Pengujian unit dilakukan untuk memverifikasi bahwa service klien membuat permintaan jaringan yang benar.

### 3.1. Strategi Pengujian

- **Framework:** `Jest`, `axios-mock-adapter`
- **Fokus Pengujian:**
  - **Mocking API Calls:** Menggunakan `axios-mock-adapter` untuk mencegat panggilan `axios` dan mensimulasikan respons dari server tanpa membuat permintaan jaringan yang sebenarnya.
  - **Verifikasi Permintaan:** Memastikan bahwa pemanggilan fungsi service (misalnya, `uploadFile`) menghasilkan permintaan `axios` ke URL yang benar, dengan metode (POST), headers (misalnya, `Content-Type: multipart/form-data`), dan body yang tepat.

### 3.2. Skenario & Hasil Pengujian

| Komponen/Hook/Service | Skenario Pengujian | Hasil yang Diharapkan | Status |
| :-------------------- | :----------------- | :-------------------- | :----- |
| `ClientSavService` | Panggil `uploadFile` dengan objek File | `axios.post` dipanggil ke endpoint `/sav/upload` | `Lulus` |
| `ClientSavService` | Panggil `createFile` dengan data JSON | `axios.post` dipanggil ke endpoint `/sav/create` dengan body JSON | `Lulus` |
| `ClientSavService` | Mock API mengembalikan `200 OK` dengan data | `uploadFile` mengembalikan data dari respons | `Lulus` |
| `ClientSavService` | Mock API mengembalikan `500 Error` | `uploadFile` melempar (throws) error | `Lulus` |

*Catatan: Pengujian ini memastikan bahwa klien akan berkomunikasi dengan backend sesuai dengan kontrak API yang diharapkan.*

---

## 4. Laporan Inspeksi Kode (Code Inspection Report)

- **Hasil:** `[Diterima / Diterima dengan Revisi / Ditolak]`
- **Cacat yang Ditemukan (jika ada):**
  - `[Belum ada / Deskripsi Cacat]`
- **Daftar Tugas (To-Do List):**
  - `[Belum ada / Tindakan perbaikan]`

---

## 5. Status Promosi ke Build

- **Status:** `[Ready to Promote / Promoted]`
- **Tanggal:** `[Tanggal]` 